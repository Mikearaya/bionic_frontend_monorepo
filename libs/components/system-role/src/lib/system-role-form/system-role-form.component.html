<form (ngSubmit)="onSubmit()" [formGroup]="userRoleForm" class="card">
  <div class="e-card">
    <label>Role Name</label>
    <input class="e-input" placeholder="Role Name" formControlName="roleName" />
    <div id="treeparent">
      <button
        (click)="selectAll()"
        type="button"
        ejs-button
        class="e-primary e-small"
      >
        Select All
      </button>

      <table class="table">
        <thead>
          <tr>
            <th>Function</th>
            <th>View</th>
            <th>Create</th>
            <th>Edit</th>
            <th>Delete</th>
            <th>Other</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let r of role; let i = index">
            <td>{{ r.function }}</td>
            <td>
              <input
                *ngIf="r.view"
                type="checkbox"
                (change)="onChange(r.view, $event.target.checked)"
                name="vehicleView"
                id="vehicleView"
                [checked]="isChecked(r.view)"
                [value]="r.view"
              />
            </td>
            <td>
              <input
                type="checkbox"
                *ngIf="r.add"
                (change)="onChange(r.add, $event.target.checked)"
                name="vehicleAdd"
                id="vehicleAdd"
                [value]="r.add"
                [checked]="isChecked(r.add)"
              />
            </td>
            <td>
              <input
                type="checkbox"
                *ngIf="r.edit"
                (change)="onChange(r.edit, $event.target.checked)"
                name="vehicleEdit"
                id="vehicleEdit"
                [checked]="isChecked(r.edit)"
                [value]="r.edit"
              />
            </td>
            <td>
              <input
                type="checkbox"
                *ngIf="r.delete"
                [checked]="isChecked(r.delete)"
                name="vehicleDelete"
                id="vehicleDelete"
                (change)="onChange(r.delete, $event.target.checked)"
                [value]="r.delete"
              />
            </td>
            <td>
              <div *ngIf="r.others.length > 0">
                <div *ngFor="let o of r.others; let oi = index">
                  <label for="oi">{{ o.title }}</label>
                  <input
                    type="checkbox"
                    [checked]="isChecked(o.value)"
                    name="vehicleDelete{oi}"
                    id="vehicleDelete{{oi}}"
                    (change)="onChange(o.value, $event.target.checked)"
                    [value]="o.value"
                  />
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <bionic-form-options
    [submitDisabled]="userRoleForm.invalid"
  ></bionic-form-options>
</form>
